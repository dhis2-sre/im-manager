image:
  repository: dhis2/im-manager
  pullPolicy: Always

serviceAccount:
  annotations:
    eks.amazonaws.com/role-arn: arn:aws:iam::767224633206:role/instance-cluster-test-im-manager-ivo

ingress:
  enabled: true
  hostname: api.im.ivo.test.c.dhis2.org
  path: /
  certIssuer: cert-issuer-prod
  annotations: {}
  # kubernetes.io/ingress.class: nginx
  # kubernetes.io/tls-acme: "true"

redis:
  host: im-manager-redis-ivo-master.instance-manager-ivo.svc
  port: "6379"

groups:
  names: whoami
  hostnames: whoami.im.ivo.test.c.dhis2.org

environment:
  ENVIRONMENT: ivo

  INSTANCE_SERVICE_HOST: im-manager-ivo.instance-manager-ivo.svc:8080
  INSTANCE_SERVICE_BASE_PATH: /

  DATABASE_MANAGER_SERVICE_HOST: im-manager-ivo.instance-manager-ivo.svc:8080
  DATABASE_MANAGER_SERVICE_BASE_PATH: /

  DATABASE_HOST: im-manager-postgresql-ivo.instance-manager-ivo.svc
  DATABASE_PORT: "5432"

  RABBITMQ_HOST: im-rabbitmq-ivo.instance-manager-ivo.svc
  RABBITMQ_PORT: "5672"

  JWKS_HOST: http://im-user-ivo.instance-manager-ivo.svc:8080/jwks
  JWKS_INDEX: "0"
  JWKS_MINIMUM_REFRESH_INTERVAL: "960" # 15 minutes

  S3_BUCKET: test-db-manager-bucket

resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 50m
    memory: 32Mi
