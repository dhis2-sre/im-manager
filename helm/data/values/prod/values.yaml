image:
  repository: dhis2/im-manager

serviceAccount:
  annotations:
    eks.amazonaws.com/role-arn: arn:aws:iam::767224633206:role/instance-cluster-test-im-manager-prod

ingress:
  enabled: true
  hostname: api.im.prod.test.c.dhis2.org
  path: /
  certIssuer: cert-issuer-prod
  annotations: {}
  # kubernetes.io/ingress.class: nginx
  # kubernetes.io/tls-acme: "true"

redis:
  host: im-manager-redis-prod-master.instance-manager-prod.svc
  port: "6379"

groups:
  names: whoami,dev,play,qa,meta-packages
  hostnames: whoami.im.prod.test.c.dhis2.org,dev.im.prod.test.c.dhis2.org,play.im.prod.test.c.dhis2.org,qa.im.prod.test.c.dhis2.org,meta-packages.im.prod.test.c.dhis2.org

environment:
  ENVIRONMENT: prod

  INSTANCE_SERVICE_HOST: im-manager-prod.instance-manager-prod.svc:8080
  INSTANCE_SERVICE_BASE_PATH: /

  DATABASE_MANAGER_SERVICE_HOST: im-manager-prod.instance-manager-prod.svc:8080
  DATABASE_MANAGER_SERVICE_BASE_PATH: /

  DATABASE_HOST: im-manager-postgresql-prod.instance-manager-prod.svc
  DATABASE_PORT: "5432"

  RABBITMQ_HOST: im-rabbitmq-prod.instance-manager-prod.svc
  RABBITMQ_PORT: "5672"

  JWKS_HOST: http://im-user-prod.instance-manager-prod.svc:8080/jwks
  JWKS_INDEX: "0"
  JWKS_MINIMUM_REFRESH_INTERVAL: "960" # 15 minutes

  S3_BUCKET: test-db-manager-bucket

resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 50m
    memory: 32Mi
